{"version":3,"sources":["components/func/GlobalVariables.js","components/func/JWT_AUTH.js","components/Login.js","components/Header.js","components/func/firebase_setup.js","components/func/queryTags.js","components/NavBar.js","components/MultiTag.js","App.js","components/firebasePages/Page.js","components/firebasePages/PublicPage.js","components/firebasePages/UsersByTag.js","components/firebasePages/AllTags.js","index.js"],"names":["GlobalVariables","malFormedURL","includes","jwt","require","credentials","process","cookieName","JWT_AUTH","getSessionData","token","Cookies","get","Error","client","verify","exp","Date","now","this","removeSessionData","e","console","log","message","window","location","href","homepage","loginPage","saveSessionData","clientData","data","email","Math","floor","sign","set","expires","remove","Login","_jsx","className","children","GoogleLogin","clientId","buttonText","onSuccess","googleResponse","profileObj","_googleResponse$profi","profileData","name","imageUrl","JSON","stringify","profilePage","onFailure","cookiePolicy","Header","_jsxs","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","getFirestore","getUsersWithTags","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","tagsToFilter","usersCollection","queryForUsers","querySnapshot","usersWithTags","wrap","_context","prev","next","collection","query","where","getDocs","sent","forEach","doc","userData","every","tag","tags","push","abrupt","t0","error","stop","_x","apply","arguments","signout","NavBar","AppBar","position","style","backgroundColor","themeColor","Toolbar","Grid","container","alignItems","justifyContent","item","Button","onClick","HomeIcon","multiTagPage","SearchIcon","color","LogoutIcon","MultiTag","props","_useState","useState","_useState2","_slicedToArray","inputValue","setInputValue","_useState3","_useState4","values","setValues","handleSplitValues","splitValues","split","map","value","trim","t1","hideNavBar","Box","sx","display","flexDirection","TextField","type","placeholder","onChange","target","width","marginBottom","variant","marginTop","List","index","ListItem","Link","rel","concat","publicProfilePage","public_id","publicContact","fixURL","portfolio","curriculo","App","minHeight","p","Paper","elevation","maxWidth","mb","border","emailToHash","hash","i","length","charCodeAt","abs","removedTags","Page","setUserData","setTags","_useState5","_useState6","newTag","setNewTag","_useState7","_useState8","newPublicContact","setNewPublicContact","_useState9","_useState10","newPortfolio","setNewPortfolio","_useState11","_useState12","newCurriculo","setNewCurriculo","fillProfilePage","deleteProfile","id","btoa","deleteDoc","toString","localStorage","removeItem","alert","saveProfile","_ref2","_callee3","userDocRef","updatedTags","batch","storedData","_context3","updateDoc","writeBatch","element","tagDocRef","toLowerCase","_defineProperty","merge","_ref3","_callee2","_context2","update","deleteField","commit","parse","getItem","setItem","useEffect","_getData","_callee4","userDoc","_data","publicDocRef","_context4","getDoc","exists","profilePictureUrl","setDoc","getData","handleAddTag","tag_formatted","_toConsumableArray","updatedUserData","_objectSpread","_Fragment","Avatar","alt","src","height","margin","Typography","component","flexWrap","Chip","label","onDelete","tagToRemove","filter","handleRemoveTag","onKeyUp","key","borderRadius","Divider","padding","mx","CircularProgress","PublicPage","profile_id","useParams","publicUserDocRef","publicUserDoc","_userData","otherProps","_objectWithoutProperties","_excluded","gap","UsersByTag","users","setUsers","fetchData","tagDoc","Object","keys","user","AllTags","tagsCollection","tagData","marginRight","tagPage","router","createHashRouter","path","allTagPage","ReactDOM","document","getElementById","render","RouterProvider"],"mappings":"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","file":"static/js/main.3108b72b.chunk.js","sourcesContent":["const GlobalVariables = {}\r\nGlobalVariables.homepage=\"http://rslgp.github.io/collabin/#\";\r\nGlobalVariables.loginPage=\"auth/login\";\r\nGlobalVariables.profilePage=\"page\";\r\nGlobalVariables.publicProfilePage=\"profile/:profile_id\";\r\nGlobalVariables.tagPage=\"tags/:tag\";\r\nGlobalVariables.allTagPage=\"tags\";\r\nGlobalVariables.multiTagPage=\"querytags\";\r\n\r\nGlobalVariables.fixURL = (malFormedURL) => {\r\n    if(!malFormedURL) return;\r\n\r\n    if(malFormedURL.includes(\"http\")){\r\n        return malFormedURL;\r\n    }\r\n    if(malFormedURL.includes(\"9\")){\r\n        return \"https://wa.me/55\"+malFormedURL;\r\n    }\r\n    return \"https://\"+malFormedURL;\r\n}\r\n\r\nGlobalVariables.themeColor = \"#f0f2f5\";\r\n\r\nexport default GlobalVariables;","import Cookies from \"js-cookie\";\r\nimport GlobalVariables from \"./GlobalVariables\";\r\nvar jwt = require(\"jsonwebtoken\");\r\n\r\nvar credentials = {}\r\ncredentials.jwt = process.env.REACT_APP_JWT;\r\n\r\nconst cookieName = \"access_token\";\r\nconst expirationHours=1;\r\n\r\nconst JWT_AUTH = {\r\n  getSessionData: function () {\r\n    try {\r\n        var token = Cookies.get(cookieName);\r\n        if (!token) {\r\n            // Token is not present\r\n            throw new Error('No Auth Cookie');\r\n        }\r\n        var client = jwt.verify(token, credentials.jwt);\r\n\r\n        // Check if token has expired\r\n        if (client.exp && client.exp < Date.now() / 1000) {\r\n            // Token has expired\r\n            this.removeSessionData(); // Remove the expired token            \r\n            throw new Error('Token Expired');\r\n        }\r\n        return client;\r\n    } catch (e) {\r\n        console.log(e.message);\r\n        window.location.href=GlobalVariables.homepage +\"/\"+ GlobalVariables.loginPage;\r\n        return null;\r\n    }\r\n  },\r\n  saveSessionData: function (clientData) {\r\n    const expInSeconds = (expirationHours+1) * 60 * 60;\r\n    const data = {\r\n      email: clientData.email,\r\n      exp: Math.floor(Date.now() / 1000) + expInSeconds,\r\n    };\r\n    var token = jwt.sign(data, credentials.jwt);\r\n    Cookies.set(cookieName, token, { expires: expirationHours / 24 }); // Set the cookie expiration in days\r\n  },\r\n  removeSessionData: function () {\r\n    Cookies.remove(cookieName);\r\n  },\r\n};\r\n\r\nexport default JWT_AUTH;\r\n","import GoogleLogin from  \"@stack-pulse/next-google-login\"\r\n\r\n//import saveToGoogleSheets from './func/saveToGoogleSheets'\r\n\r\nimport JWT_AUTH from \"./func/JWT_AUTH\"\r\nimport GlobalVariables from \"./func/GlobalVariables\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst credentials = {\r\n  \"google\":process.env.REACT_APP_GOOGLE_CLIENTID,\r\n  \"jwt\":process.env.REACT_APP_JWT\r\n}\r\n\r\nfunction Login() {\r\n\r\n    function onLogin(googleResponse){\r\n        console.log(googleResponse);\r\n        //var inseriu = saveToGoogleSheets(googleResponse.profileObj);\r\n        //if(inseriu) alert(\"Ponto registrado\");\r\n        //else alert(\"Falha no ponto\");\r\n\r\n        JWT_AUTH.saveSessionData(googleResponse.profileObj);\r\n        //GlobalVariables.profileData = googleResponse.profileObj;\r\n        const {name, imageUrl} = googleResponse.profileObj;\r\n        const profileData = {name: name, imageUrl:imageUrl};\r\n        Cookies.set(\"profile\",JSON.stringify(profileData));\r\n        \r\n        window.location.href=GlobalVariables.homepage +\"/\"+ GlobalVariables.profilePage;\r\n    }\r\n    \r\n    //const getSession = ()=>{\r\n    //  var client = JWT_AUTH.getSessionData();\r\n    //  if(client) window.location.href=GlobalVariables.homepage +\"/\"+ GlobalVariables.profilePage;\r\n    //}\r\n  return (\r\n    <div className=\"GoogleLogin\">\r\n        <GoogleLogin\r\n        clientId={credentials.google}\r\n        buttonText=\"Continue with Google\"\r\n        onSuccess={onLogin}\r\n        onFailure={console.log}\r\n        cookiePolicy={'single_host_origin'}\r\n        />      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import '../App.css';\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className=\"Header\">\r\n        <div className='espacamento'/>\r\n        <h1>Collabin</h1>\r\n        <p>Construa experiência e portfolio com projetos em equipe</p>\r\n        <div className='espacamento'/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE,\r\n  authDomain: \"myapp-d87de.firebaseapp.com\",\r\n  projectId: \"myapp-d87de\",\r\n  storageBucket: \"myapp-d87de.appspot.com\",\r\n  messagingSenderId: \"101658274836\",\r\n  appId: \"1:101658274836:web:364eb204ab277197d30b01\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nexport default app;","import { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\r\nimport app from \"../func/firebase_setup\"; // Import your Firebase configuration file\r\n\r\nconst firestore = getFirestore(app);\r\n\r\nconst getUsersWithTags = async (tagsToFilter) => {\r\n  try {\r\n    // Reference to the \"users\" collection\r\n    const usersCollection = collection(firestore, \"users\");\r\n\r\n    // Define the tags you want to filter by\r\n    //const tagsToFilter = [\"react\", \"nodejs\"];\r\n\r\n    // Build a query to find users with both \"react\" and \"nodejs\" tags\r\n    const queryForUsers = query(\r\n      usersCollection,\r\n      where(\"tags\", \"array-contains-any\", tagsToFilter)\r\n    );\r\n\r\n    // Execute the query and get the result\r\n    const querySnapshot = await getDocs(queryForUsers);\r\n\r\n    // Process the query results\r\n    const usersWithTags = [];\r\n    querySnapshot.forEach((doc) => {\r\n      // Get user data\r\n      const userData = doc.data();\r\n\r\n      // Check if the user has both tags\r\n      if (\r\n        tagsToFilter.every((tag) => userData.tags.includes(tag))\r\n      ) {\r\n        usersWithTags.push(userData);\r\n      }\r\n    });\r\n\r\n    // usersWithTags now contains the list of users who have both \"react\" and \"nodejs\" tags\r\n    //console.log(\"Users with both tags:\", usersWithTags);\r\n    return usersWithTags;\r\n  } catch (error) {\r\n    console.error(\"Error fetching users:\", error);\r\n  }\r\n};\r\nexport default getUsersWithTags;","import { AppBar, Button, Grid, Toolbar } from \"@mui/material\";\r\nimport Cookies from \"js-cookie\";\r\nimport GlobalVariables from \"./func/GlobalVariables\";\r\nimport HomeIcon from \"@mui/icons-material/Home\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport LogoutIcon from \"@mui/icons-material/Logout\";\r\n\r\nconst signout = () => {\r\n  Cookies.remove(\"access_token\");\r\n  window.location.href =\r\n    GlobalVariables.homepage + \"/\" + GlobalVariables.loginPage;\r\n};\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <AppBar position=\"static\" style={{ backgroundColor: GlobalVariables.themeColor }}>\r\n      <Toolbar>\r\n        <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n          <Grid item>\r\n            <Button onClick={() => (window.location.href =\r\n              GlobalVariables.homepage + \"/\" + GlobalVariables.profilePage)}>\r\n              <HomeIcon />\r\n            </Button>\r\n            <Button onClick={() => (window.location.href =\r\n              GlobalVariables.homepage + \"/\" + GlobalVariables.multiTagPage)}>\r\n              <SearchIcon />\r\n            </Button>\r\n          </Grid>\r\n          <Grid item>\r\n            <Button color=\"inherit\" onClick={signout} style={{ color: \"black\" }}>\r\n              <LogoutIcon /> Sign Out\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { useState } from \"react\";\r\nimport getUsersWithTags from './func/queryTags';\r\nimport GlobalVariables from \"./func/GlobalVariables\";\r\n\r\nimport {Box, TextField, Button, List, ListItem, Link} from \"@mui/material\";\r\nimport \"../App.css\";\r\nimport NavBar from \"./NavBar\";\r\n\r\nconst MultiTag = (props) => {\r\n  const [inputValue, setInputValue] = useState(\"\"); // State for input value\r\n  const [values, setValues] = useState([]); // State to store split values\r\n\r\n  // Function to handle input value changes\r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  // Function to split input value by comma and update the 'values' state\r\n  const handleSplitValues = async () => {\r\n    const splitValues = inputValue.split(\",\").map((value) => value.trim());\r\n    setValues(await getUsersWithTags(splitValues));\r\n  };\r\n\r\nreturn (\r\n  <div>\r\n    {props.hideNavBar ? null : <NavBar/>}\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <h2>Buscador de perfil por tags</h2>\r\n      <TextField\r\n        type=\"text\"\r\n        placeholder=\"tags separado por vírgulas (sem espaço)\"\r\n        value={inputValue}\r\n        onChange={handleInputChange}\r\n        sx={{\r\n          width: \"100%\",\r\n          marginBottom: \"10px\",\r\n        }}\r\n      />\r\n      <Button onClick={handleSplitValues} variant=\"contained\">Buscar</Button>\r\n\r\n      <Box\r\n        sx={{\r\n          marginTop: \"10px\",\r\n        }}\r\n      >\r\n        <List>\r\n          {values.map((value, index) => (\r\n            <ListItem key={index}>\r\n              <Link\r\n                className=\"espacamento\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n                href={`${GlobalVariables.homepage}/${GlobalVariables.publicProfilePage.split(\":\")[0]}${value.public_id}`}\r\n              >\r\n                {value.public_id}\r\n              </Link>\r\n              {value.name}\r\n              \r\n              {value.publicContact ? \r\n              <Link className=\"espacamento\" href={`${GlobalVariables.fixURL(value.publicContact)}`} target=\"_blank\" rel=\"noreferrer\">\r\n                {value.publicContact}\r\n              </Link> : null}\r\n\r\n              {value.portfolio ? \r\n              <Link className=\"espacamento\" href={`${GlobalVariables.fixURL(value.portfolio)}`} target=\"_blank\" rel=\"noreferrer\">\r\n                portfolio\r\n              </Link> : null}\r\n\r\n              {value.curriculo ? \r\n              <Link className=\"espacamento\" href={`${GlobalVariables.fixURL(value.curriculo)}`} target=\"_blank\" rel=\"noreferrer\">\r\n                currículo\r\n              </Link> : null}\r\n\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Box>\r\n    </Box>\r\n  </div>\r\n);\r\n};\r\n\r\nexport default MultiTag;\r\n","import './App.css';\r\n\r\nimport Login from './components/Login';\r\nimport Header from './components/Header';\r\nimport { Box, Paper } from '@mui/material';\r\nimport MultiTag from './components/MultiTag';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Box\r\n        display=\"flex\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        minHeight=\"100vh\"\r\n        p={2}\r\n      >\r\n        <Box\r\n          display=\"flex\"\r\n          flexDirection=\"column\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Paper elevation={0} sx={{ width: \"100%\", maxWidth:\"400px\", p: 2, mb: 2, border:\"1px solid rgb(219, 219, 219)\" }}>\r\n            <Header />\r\n            <Login />\r\n          </Paper>\r\n          <Paper elevation={0} sx={{ width: \"100%\", p: 3, border:\"1px solid rgb(219, 219, 219)\" }}>\r\n            <MultiTag hideNavBar={true} />\r\n          </Paper>\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport JWT_AUTH from \"../func/JWT_AUTH\";\r\nimport app from \"../func/firebase_setup\";\r\nimport GlobalVariables from \"../func/GlobalVariables\";\r\nimport { getFirestore, doc, getDoc, setDoc, updateDoc, deleteField, deleteDoc, writeBatch } from \"firebase/firestore\"; // Updated import statements\r\nimport Cookies from \"js-cookie\";\r\n\r\n\r\nimport { Box, Typography, Avatar, Chip, TextField, Button, Divider,CircularProgress } from \"@mui/material\";\r\nimport NavBar from \"../NavBar\";\r\n\r\n// Initialize Firestore\r\nconst firestore = getFirestore(app);\r\n\r\nfunction emailToHash(email) {\r\n  let hash = 0;\r\n\r\n  for (let i = 0; i < email.length; i++) {\r\n    const char = email.charCodeAt(i);\r\n    hash = (hash << 5) - hash + char;\r\n  }\r\n\r\n  return Math.abs(hash) + Date.now(); // Convert to a positive number\r\n}\r\n\r\nconst removedTags=[];\r\n\r\nconst Page = () => {\r\n  const [userData, setUserData] = useState(null);\r\n  const [tags, setTags] = useState([]);\r\n  const [newTag, setNewTag] = useState(\"\");\r\n  const [newPublicContact, setNewPublicContact] = useState(\"\");\r\n  const [newPortfolio, setNewPortfolio] = useState(\"\");\r\n  const [newCurriculo, setNewCurriculo] = useState(\"\");\r\n\r\n  const fillProfilePage = (data) => {    \r\n    setUserData(data);\r\n    if(data.tags) setTags(data.tags);\r\n    if(data.publicContact) setNewPublicContact(data.publicContact);\r\n    if(data.portfolio) setNewPortfolio(data.portfolio);\r\n    if(data.curriculo) setNewCurriculo(data.curriculo);\r\n  }\r\n\r\n  const deleteProfile = async () => {    \r\n    const client = JWT_AUTH.getSessionData();\r\n    if (!client) {\r\n      return;\r\n    }\r\n    const email = client.email;\r\n    const id = btoa(email);\r\n    \r\n    await deleteDoc( doc(firestore, \"public_users\", userData.public_id.toString()) );\r\n\r\n    await deleteDoc( doc(firestore, \"users\", id) );\r\n\r\n    localStorage.removeItem(\"userData\");\r\n    \r\n    alert(\"Profile deletado\");\r\n    \r\n    window.location.href=GlobalVariables.homepage +\"/\"+ GlobalVariables.loginPage;\r\n  }\r\n\r\n  const saveProfile = async () => {\r\n    const client = JWT_AUTH.getSessionData();\r\n    if (!client) {\r\n      return;\r\n    }\r\n    const email = client.email;\r\n    const id = btoa(email);\r\n    const userDocRef = doc(firestore, \"users\", id);\r\n\r\n    const updatedTags = tags;\r\n\r\n    // Update the user document with the new tags\r\n    updateDoc(userDocRef, \r\n      { tags: updatedTags, \r\n        publicContact: newPublicContact, \r\n        portfolio: newPortfolio,\r\n        curriculo: newCurriculo\r\n      });\r\n\r\n      // Create a batch\r\n      const batch = writeBatch(firestore);\r\n      updatedTags.forEach((element) => {\r\n        if (element !== \"\") {\r\n          const tagDocRef = doc(firestore, \"tags\", element.toLowerCase());\r\n      \r\n          // Queue an update operation in the batch\r\n          batch.set(\r\n            tagDocRef,\r\n            {\r\n              [userData.public_id.toString()]: true,\r\n            },\r\n            { merge: true } // Merge to update the field without overwriting other data\r\n          );\r\n        }\r\n      });\r\n      \r\n    removedTags.forEach(async (element) => {\r\n      if (element !== \"\") {\r\n        const tagDocRef = doc(firestore, \"tags\", element.toLowerCase());\r\n        \r\n        // Queue a delete operation in the batch\r\n        batch.update(tagDocRef, {\r\n          [userData.public_id.toString()]: deleteField(),\r\n        });\r\n        \r\n      }\r\n    });\r\n    \r\n    // Commit the batch to write all the updates in a single request\r\n    await batch.commit();\r\n    \r\n    \r\n    const storedData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    storedData.tags = updatedTags;\r\n    storedData.publicContact= newPublicContact;\r\n    storedData.portfolio= newPortfolio;\r\n    storedData.curriculo= newCurriculo;    \r\n    localStorage.setItem(\"userData\", JSON.stringify(storedData));\r\n\r\n    alert(\"Perfil salvo\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      const client = JWT_AUTH.getSessionData();\r\n      if (!client) {\r\n        return;\r\n      }\r\n      const email = client.email;\r\n      const id = btoa(email);\r\n      const userDocRef = doc(firestore, \"users\", id);\r\n\r\n      try {\r\n        // Check if user data is available in local storage\r\n        const storedData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n        if (storedData) {\r\n          // If data is available locally, use it\r\n          fillProfilePage(storedData);\r\n        } else {\r\n          const userDoc = await getDoc(userDocRef);\r\n\r\n          if (userDoc.exists()) {\r\n            const data = userDoc.data();\r\n            fillProfilePage(data);\r\n\r\n            // Store user data in local storage\r\n            localStorage.setItem(\"userData\", JSON.stringify(data));\r\n          } else {\r\n            console.log(\"No data available\");\r\n            try {\r\n              const profileData = JSON.parse(Cookies.get(\"profile\"));\r\n              Cookies.remove(\"profile\"); // Run only once\r\n              const data = {\r\n                email: email,\r\n                name: profileData.name,\r\n                profilePictureUrl: profileData.imageUrl,\r\n                tags: [], // Initialize tags as an empty array\r\n              };\r\n              const public_id = emailToHash(data.email);\r\n              data.public_id = public_id;\r\n              await setDoc(userDocRef, data);\r\n              console.log(public_id.toString());\r\n              const publicDocRef = doc(\r\n                firestore,\r\n                \"public_users\",\r\n                public_id.toString()\r\n              );\r\n\r\n              // Create or update a public user document with an 'id' field\r\n              await setDoc(publicDocRef, { id: id });\r\n              fillProfilePage(data);\r\n\r\n              // Store user data in local storage\r\n              localStorage.setItem(\"userData\", JSON.stringify(data));\r\n            } catch (e) {\r\n              console.log(e.message);\r\n              console.log(\"No data available, creating new - error\");\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    }\r\n\r\n    getData();\r\n  }, []); // Empty dependency array to run this effect only once\r\n\r\n  const handleAddTag = () => {\r\n    if (newTag.trim() === \"\" || tags.includes(newTag)) return; // Don't add empty tags\r\n\r\n    //if (!/^[A-Za-z ]+$/.test(newTag)) {\r\n    //  // Check if the newTag contains only letters\r\n    //  alert(\"Tags can only contain letters.\");\r\n    //  return;\r\n    //}\r\n    const tag_formatted =  newTag.toLowerCase();\r\n    setNewTag(tag_formatted);\r\n\r\n    // Add the new tag to the tags array\r\n    const updatedTags = [...tags, tag_formatted];\r\n    setTags(updatedTags);\r\n\r\n    // Update the userData in the database\r\n    const updatedUserData = { ...userData, tags: updatedTags};\r\n    setUserData(updatedUserData);\r\n\r\n    // Clear the input field\r\n    setNewTag(\"\");\r\n  };\r\n  \r\n  const checkIfEnterTag = (e) => {\r\n    if(e.key === \"Enter\") handleAddTag();\r\n  }\r\n\r\n  const handleRemoveTag = (tagToRemove) => {\r\n    const updatedTags = tags.filter((tag) => tag !== tagToRemove);\r\n    setTags(updatedTags);\r\n    \r\n    removedTags.push(tagToRemove);\r\n\r\n    // Update the userData in the database\r\n    const updatedUserData = { ...userData, tags: updatedTags };\r\n    setUserData(updatedUserData);\r\n  };\r\n\r\n  const handleTagInputChange = (e) => {\r\n    setNewTag(e.target.value);\r\n  };\r\n  const handlePublicContactInputChange = (e) => {\r\n    setNewPublicContact(e.target.value);\r\n  };\r\n  const handlePortfolioInputChange = (e) => {\r\n    setNewPortfolio(e.target.value);\r\n  };\r\n  const handleCurriculoInputChange = (e) => {\r\n    setNewCurriculo(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {\r\n      userData ? ( <>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <NavBar/>\r\n        <h2>Profile Information</h2>\r\n        <Avatar\r\n          alt=\"Profile picture\"\r\n          src={userData.profilePictureUrl}\r\n          sx={{\r\n            width: 100,\r\n            height: 100,\r\n            margin: \"auto\",\r\n          }}\r\n        />\r\n        <Typography variant=\"h6\" component=\"h3\">\r\n          {userData.name}\r\n        </Typography>\r\n        <Typography variant=\"body1\">{userData.email}</Typography>\r\n        <Typography variant=\"body1\">\r\n          Public Id:\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            href={\r\n              GlobalVariables.homepage +\r\n              \"/\" +\r\n              GlobalVariables.publicProfilePage.split(\":\")[0] +\r\n              userData.public_id\r\n            }\r\n          >\r\n            {userData.public_id}\r\n          </a>\r\n        </Typography>\r\n\r\n        <Typography variant=\"body1\">Tags:</Typography>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\", // Change the direction to horizontal\r\n            flexWrap: \"wrap\", // Allow items to wrap to the next line\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          {tags.map((tag, index) => (\r\n            <Chip\r\n              key={index}\r\n              label={tag}\r\n              onDelete={() => handleRemoveTag(tag)}\r\n              sx={{\r\n                margin: \"5px\",\r\n              }}\r\n            />\r\n          ))}\r\n        </Box>\r\n\r\n        <div style={{ display: \"flex\", flexDirection: \"row\", width: \"80%\" }}>\r\n        <TextField\r\n          label=\"Add a tag\"\r\n          value={newTag}\r\n          onChange={handleTagInputChange}\r\n          onKeyUp={checkIfEnterTag}\r\n          sx={{\r\n            width: \"100%\",\r\n            margin: \"10px -8px 0 0\",\r\n          }}\r\n        />\r\n        <Button onClick={handleAddTag} style={{borderRadius:\"12px\",height: \"60px\", margin: \"8px 0 0 8px\", backgroundColor:\"#f0f2f5\"}} >ADD</Button>\r\n      </div>\r\n        \r\n        <TextField\r\n          label=\"Add Public Contact\"\r\n          placeholder=\"Enter contact email, number, social media\"\r\n          value={newPublicContact}\r\n          onChange={handlePublicContactInputChange}\r\n          sx={{\r\n            width: \"80%\",\r\n            margin: \"10px 0\",\r\n          }}\r\n        />\r\n\r\n        \r\n        <TextField\r\n          label=\"Add portfolio URL\"\r\n          placeholder=\"Enter portfolio URL\"\r\n          value={newPortfolio}\r\n          onChange={handlePortfolioInputChange}\r\n          sx={{\r\n            width: \"80%\",\r\n            margin: \"10px 0\",\r\n          }}\r\n        />\r\n\r\n        \r\n        <TextField\r\n          label=\"Add curriculo URL\"\r\n          placeholder=\"Enter curriculo URL\"\r\n          value={newCurriculo}\r\n          onChange={handleCurriculoInputChange}\r\n          sx={{\r\n            width: \"80%\",\r\n            margin: \"10px 0\",\r\n          }}\r\n        />\r\n\r\n        <Button onClick={saveProfile} style={{borderRadius:\"12px\",height: \"60px\", width: \"80%\", marginTop: \"8px\", backgroundColor:\"#f0f2f5\"}} >SAVE</Button>\r\n\r\n        \r\n        <Divider variant=\"fullWidth\" sx={{ margin: \"16px 0\", padding:\"10px\", width:\"70%\", mx: \"auto\" }} />\r\n        \r\n        <Button onClick={deleteProfile} style={{color:\"red\", borderRadius:\"12px\",height: \"60px\", width: \"80%\", marginTop: \"8px\", backgroundColor:\"#f0f2f5\"}} >Delete Profile</Button>\r\n\r\n      </Box>\r\n          </>\r\n      ) : (\r\n        <>\r\n          <CircularProgress/>\r\n          <p>Loading profile data...</p>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport app from \"../func/firebase_setup\";\r\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\nimport { Box, Typography, Avatar, Chip, Link } from \"@mui/material\";\r\nimport GlobalVariables from \"../func/GlobalVariables\";\r\n\r\nconst firestore = getFirestore(app);\r\n\r\nconst PublicPage = () => {\r\n  const { profile_id } = useParams();\r\n  const [userData, setUserData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      const publicUserDocRef = doc(firestore, \"public_users\", profile_id);\r\n\r\n      try {\r\n        const publicUserDoc = await getDoc(publicUserDocRef);\r\n\r\n        if (publicUserDoc.exists()) {\r\n          const data = publicUserDoc.data();\r\n          const userDocRef = doc(firestore, \"users\", data.id);\r\n          const userDoc = await getDoc(userDocRef);\r\n\r\n          if (userDoc.exists()) {\r\n            const userData = userDoc.data();\r\n            const { email, ...otherProps } = userData;\r\n            setUserData(otherProps);\r\n          } else {\r\n            console.log(\"No data available for user\");\r\n          }\r\n        } else {\r\n          console.log(\"No data available for public user\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    }\r\n\r\n    getData();\r\n  }, [profile_id]); // Empty dependency array to run this effect only once\r\n\r\n  return (\r\n    <div>\r\n  {userData ? (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <h2>Profile Information</h2>\r\n      <Typography variant=\"h6\" component=\"h3\">\r\n        {userData.name}\r\n      </Typography>\r\n\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          gap: \"10px\", // Add gap between the links\r\n          marginTop: \"10px\", // Add margin to the top\r\n        }}\r\n      >\r\n        {userData.publicContact ? (\r\n          <Link href={`${GlobalVariables.fixURL(userData.publicContact)}`} target=\"_blank\" rel=\"noreferrer\">\r\n            {userData.publicContact}\r\n          </Link>\r\n        ) : null}\r\n\r\n        {userData.portfolio ? (\r\n          <Link href={`${GlobalVariables.fixURL(userData.portfolio)}`} target=\"_blank\" rel=\"noreferrer\">\r\n            Portfolio\r\n          </Link>\r\n        ) : null}\r\n\r\n        {userData.curriculo ? (\r\n          <Link href={`${GlobalVariables.fixURL(userData.curriculo)}`} target=\"_blank\" rel=\"noreferrer\">\r\n            Curriculo\r\n          </Link>\r\n        ) : null}\r\n      </Box>\r\n\r\n\r\n      <Avatar\r\n        alt=\"Profile picture\"\r\n        src={userData.profilePictureUrl}\r\n        sx={{\r\n          width: 100,\r\n          height: 100,\r\n          margin: \"auto\",\r\n        }}\r\n      />\r\n      <Typography variant=\"body1\">Tags:</Typography>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\", // Change the direction to horizontal\r\n          flexWrap: \"wrap\", // Allow items to wrap to the next line\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        {userData.tags.map((tag, index) => (\r\n          <Chip\r\n            key={index}\r\n            label={tag}\r\n            sx={{\r\n              margin: \"5px\",\r\n            }}\r\n          />\r\n        ))}\r\n      </Box>\r\n    </Box>\r\n  ) : (\r\n    <p>Loading profile data...</p>\r\n  )}\r\n</div>\r\n  );\r\n};\r\n\r\nexport default PublicPage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\r\nimport app from \"../func/firebase_setup\"; // Make sure to import the Firebase app instance\r\nimport GlobalVariables from \"../func/GlobalVariables\";\r\n\r\nconst firestore = getFirestore(app);\r\n\r\nconst UsersByTag = () => {\r\n  const { tag } = useParams(); // Get the tag from the URL params\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        \r\n        const tagDocRef = doc(firestore, \"tags\", tag);\r\n        const tagDoc = await getDoc(tagDocRef);\r\n        console.log(tagDoc.data());\r\n        setUsers(Object.keys(tagDoc.data()));\r\n        } catch (error) {\r\n        console.error(\"Error fetching tag data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [tag]); // Fetch data whenever the tag URL parameter changes\r\n\r\n  return (\r\n    <div>\r\n      <h2>Users with Tag: {tag}</h2>\r\n      <div>\r\n        {users.map((user) => (\r\n          <div key={user}>\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            href={`${GlobalVariables.homepage}/${GlobalVariables.publicProfilePage.split(\":\")[0]}${user}`}\r\n          >\r\n            {user}\r\n          </a>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersByTag;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getFirestore, collection, getDocs } from \"firebase/firestore\";\r\nimport GlobalVariables from \"../func/GlobalVariables\";\r\nimport app from \"../func/firebase_setup\"; // Import your Firebase configuration file\r\n\r\nimport { Box, Link } from \"@mui/material\";\r\n\r\nconst firestore = getFirestore(app);\r\n\r\nconst AllTags = () => {\r\n  const { tag } = useParams();\r\n  const [tags, setTags] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        // Reference to the \"tags\" collection\r\n        const tagsCollection = collection(firestore, \"tags\");\r\n\r\n        // Fetch all documents within the \"tags\" collection\r\n        const querySnapshot = await getDocs(tagsCollection);\r\n\r\n        const tagData = [];\r\n        querySnapshot.forEach((doc) => {\r\n          // Get the document data and add it to the array\r\n          tagData.push(doc.id);\r\n        });\r\n\r\n        setTags(tagData);\r\n      } catch (error) {\r\n        console.error(\"Error fetching tag data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [tag]);\r\n\r\n  return (\r\n    <div>\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <h2>All Tags:</h2>\r\n      <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\", // Change the direction to horizontal\r\n            flexWrap: \"wrap\", // Allow items to wrap to the next line\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n        {tags.map((tag) => (\r\n          <Link style={{ marginRight: \"10px\" }} key={tag} href={`${GlobalVariables.homepage}/${GlobalVariables.tagPage.split(\":\")[0]}${tag}`} rel=\"noreferrer\" target=\"_blank\">\r\n            {tag}\r\n          </Link>\r\n        ))}\r\n      </Box>\r\n    </Box>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default AllTags;\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom/client\";\r\nimport {\r\n  createHashRouter,\r\n  RouterProvider,\r\n} from \"react-router-dom\";\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport GlobalVariables from \"./components/func/GlobalVariables\";\r\nimport Page from \"./components/firebasePages/Page\";\r\nimport PublicPage from \"./components/firebasePages/PublicPage\";\r\nimport UsersByTag from \"./components/firebasePages/UsersByTag\";\r\nimport AllTags from \"./components/firebasePages/AllTags\";\r\nimport MultiTag from \"./components/MultiTag\";\r\n\r\n// Set the initial hash value to '/#' when the application loads.\r\nif (window.location.hash === \"\") {\r\n  window.location.hash = \"/\";\r\n}\r\n\r\nconst router = createHashRouter([\r\n  {\r\n    path: \"/\",\r\n    element: <App />,\r\n  },\r\n  {\r\n    path: GlobalVariables.loginPage,\r\n    element: <App />\r\n  },\r\n  {\r\n    path: GlobalVariables.profilePage,\r\n    element: <Page />,\r\n  },\r\n  {\r\n    path: GlobalVariables.publicProfilePage,\r\n    element: <PublicPage />,\r\n  },\r\n  {\r\n    path: GlobalVariables.tagPage,\r\n    element: <UsersByTag />,\r\n  },\r\n  {\r\n    path: GlobalVariables.allTagPage,\r\n    element: <AllTags />,\r\n  },\r\n  {\r\n    path: GlobalVariables.multiTagPage,\r\n    element: <MultiTag />,\r\n  }\r\n]);\r\n\r\nReactDOM.createRoot(document.getElementById(\"root\")).render(\r\n  //<React.StrictMode> //fix useEffect running twice\r\n    <RouterProvider router={router} />\r\n  //</React.StrictMode>\r\n);\r\n"],"sourceRoot":""}