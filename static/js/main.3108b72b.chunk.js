(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{118:function(e,t,a){},241:function(e,t,a){},246:function(e,t){},248:function(e,t){},259:function(e,t){},261:function(e,t){},289:function(e,t){},290:function(e,t){},295:function(e,t){},297:function(e,t){},304:function(e,t){},323:function(e,t){},357:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(216),c=a(91),i=a(16),o=(a(241),a(118),a(217)),s=a.n(o),l=a(45),u=a.n(l),j={homepage:"http://rslgp.github.io/collabin/#",loginPage:"auth/login",profilePage:"page",publicProfilePage:"profile/:profile_id",tagPage:"tags/:tag",allTagPage:"tags",multiTagPage:"querytags",fixURL:function(e){if(e)return e.includes("http")?e:e.includes("9")?"https://wa.me/55"+e:"https://"+e},themeColor:"#f0f2f5"},b=j,p=a(242),f={jwt:"eed624733ec663a2a42bc7f99a94f41e"},d="access_token",x={getSessionData:function(){try{var e=u.a.get(d);if(!e)throw new Error("No Auth Cookie");var t=p.verify(e,f.jwt);if(t.exp&&t.exp<Date.now()/1e3)throw this.removeSessionData(),new Error("Token Expired");return t}catch(a){return console.log(a.message),window.location.href=b.homepage+"/"+b.loginPage,null}},saveSessionData:function(e){var t={email:e.email,exp:Math.floor(Date.now()/1e3)+7200},a=p.sign(t,f.jwt);u.a.set(d,a,{expires:1/24})},removeSessionData:function(){u.a.remove(d)}},h=a(3),g="796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com";var O=function(){return Object(h.jsx)("div",{className:"GoogleLogin",children:Object(h.jsx)(s.a,{clientId:g,buttonText:"Continue with Google",onSuccess:function(e){console.log(e),x.saveSessionData(e.profileObj);var t=e.profileObj,a={name:t.name,imageUrl:t.imageUrl};u.a.set("profile",JSON.stringify(a)),window.location.href=b.homepage+"/"+b.profilePage},onFailure:console.log,cookiePolicy:"single_host_origin"})})};var m=function(){return Object(h.jsxs)("div",{className:"Header",children:[Object(h.jsx)("div",{className:"espacamento"}),Object(h.jsx)("h1",{children:"Collabin"}),Object(h.jsx)("p",{children:"Construa experi\xeancia e portfolio com projetos em equipe"}),Object(h.jsx)("div",{className:"espacamento"})]})},v=a(415),w=a(408),y=a(1),k=a(7),C=a(10),P=a(27),S=a(218),D=Object(S.a)({apiKey:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo",authDomain:"myapp-d87de.firebaseapp.com",projectId:"myapp-d87de",storageBucket:"myapp-d87de.appspot.com",messagingSenderId:"101658274836",appId:"1:101658274836:web:364eb204ab277197d30b01"}),_=Object(P.g)(D),I=function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){var a,r,n,c;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(P.a)(_,"users"),r=Object(P.h)(a,Object(P.k)("tags","array-contains-any",t)),e.next=5,Object(P.f)(r);case 5:return n=e.sent,c=[],n.forEach((function(e){var a=e.data();t.every((function(e){return a.tags.includes(e)}))&&c.push(a)})),e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),N=I,E=a(403),U=a(406),L=a(416),R=a(405),T=a(410),A=a(413),J=a(414),B=a(409),W=a(221),q=a.n(W),F=a(222),H=a.n(F),M=a(223),Y=a.n(M),G=function(){u.a.remove("access_token"),window.location.href=b.homepage+"/"+b.loginPage},K=function(){return Object(h.jsx)(A.a,{position:"static",style:{backgroundColor:b.themeColor},children:Object(h.jsx)(J.a,{children:Object(h.jsxs)(B.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(h.jsxs)(B.a,{item:!0,children:[Object(h.jsx)(U.a,{onClick:function(){return window.location.href=b.homepage+"/"+b.profilePage},children:Object(h.jsx)(q.a,{})}),Object(h.jsx)(U.a,{onClick:function(){return window.location.href=b.homepage+"/"+b.multiTagPage},children:Object(h.jsx)(H.a,{})})]}),Object(h.jsx)(B.a,{item:!0,children:Object(h.jsxs)(U.a,{color:"inherit",onClick:G,style:{color:"black"},children:[Object(h.jsx)(Y.a,{})," Sign Out"]})})]})})})},z=function(e){var t=Object(r.useState)(""),a=Object(C.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)([]),o=Object(C.a)(i,2),s=o[0],l=o[1],u=function(){var e=Object(k.a)(Object(y.a)().mark((function e(){var t;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.split(",").map((function(e){return e.trim()})),e.t0=l,e.next=4,N(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[e.hideNavBar?null:Object(h.jsx)(K,{}),Object(h.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(h.jsx)("h2",{children:"Buscador de perfil por tags"}),Object(h.jsx)(E.a,{type:"text",placeholder:"tags separado por v\xedrgulas (sem espa\xe7o)",value:n,onChange:function(e){c(e.target.value)},sx:{width:"100%",marginBottom:"10px"}}),Object(h.jsx)(U.a,{onClick:u,variant:"contained",children:"Buscar"}),Object(h.jsx)(v.a,{sx:{marginTop:"10px"},children:Object(h.jsx)(L.a,{children:s.map((function(e,t){return Object(h.jsxs)(R.a,{children:[Object(h.jsx)(T.a,{className:"espacamento",target:"_blank",rel:"noreferrer",href:"".concat(b.homepage,"/").concat(b.publicProfilePage.split(":")[0]).concat(e.public_id),children:e.public_id}),e.name,e.publicContact?Object(h.jsx)(T.a,{className:"espacamento",href:"".concat(b.fixURL(e.publicContact)),target:"_blank",rel:"noreferrer",children:e.publicContact}):null,e.portfolio?Object(h.jsx)(T.a,{className:"espacamento",href:"".concat(b.fixURL(e.portfolio)),target:"_blank",rel:"noreferrer",children:"portfolio"}):null,e.curriculo?Object(h.jsx)(T.a,{className:"espacamento",href:"".concat(b.fixURL(e.curriculo)),target:"_blank",rel:"noreferrer",children:"curr\xedculo"}):null]},t)}))})})]})]})};var V=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(v.a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",p:2,children:Object(h.jsxs)(v.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(h.jsxs)(w.a,{elevation:0,sx:{width:"100%",maxWidth:"400px",p:2,mb:2,border:"1px solid rgb(219, 219, 219)"},children:[Object(h.jsx)(m,{}),Object(h.jsx)(O,{})]}),Object(h.jsx)(w.a,{elevation:0,sx:{width:"100%",p:3,border:"1px solid rgb(219, 219, 219)"},children:Object(h.jsx)(z,{hideNavBar:!0})})]})})})},X=a(67),Z=a(17),Q=a(6),$=a(411),ee=a(417),te=a(412),ae=a(418),re=a(419),ne=Object(P.g)(D);function ce(e){for(var t=0,a=0;a<e.length;a++){t=(t<<5)-t+e.charCodeAt(a)}return Math.abs(t)+Date.now()}var ie=[],oe=function(){var e=Object(r.useState)(null),t=Object(C.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),i=Object(C.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(""),j=Object(C.a)(l,2),p=j[0],f=j[1],d=Object(r.useState)(""),g=Object(C.a)(d,2),O=g[0],m=g[1],w=Object(r.useState)(""),S=Object(C.a)(w,2),D=S[0],_=S[1],I=Object(r.useState)(""),N=Object(C.a)(I,2),L=N[0],R=N[1],T=function(e){n(e),e.tags&&s(e.tags),e.publicContact&&m(e.publicContact),e.portfolio&&_(e.portfolio),e.curriculo&&R(e.curriculo)},A=function(){var e=Object(k.a)(Object(y.a)().mark((function e(){var t,r,n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.getSessionData()){e.next=3;break}return e.abrupt("return");case 3:return r=t.email,n=btoa(r),e.next=7,Object(P.b)(Object(P.d)(ne,"public_users",a.public_id.toString()));case 7:return e.next=9,Object(P.b)(Object(P.d)(ne,"users",n));case 9:localStorage.removeItem("userData"),alert("Profile deletado"),window.location.href=b.homepage+"/"+b.loginPage;case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(k.a)(Object(y.a)().mark((function e(){var t,r,n,c,i,s,l;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.getSessionData()){e.next=3;break}return e.abrupt("return");case 3:return r=t.email,n=btoa(r),c=Object(P.d)(ne,"users",n),i=o,Object(P.j)(c,{tags:i,publicContact:O,portfolio:D,curriculo:L}),s=Object(P.l)(ne),i.forEach((function(e){if(""!==e){var t=Object(P.d)(ne,"tags",e.toLowerCase());s.set(t,Object(Q.a)({},a.public_id.toString(),!0),{merge:!0})}})),ie.forEach(function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){var r;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==t&&(r=Object(P.d)(ne,"tags",t.toLowerCase()),s.update(r,Object(Q.a)({},a.public_id.toString(),Object(P.c)())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=13,s.commit();case 13:(l=JSON.parse(localStorage.getItem("userData"))).tags=i,l.publicContact=O,l.portfolio=D,l.curriculo=L,localStorage.setItem("userData",JSON.stringify(l)),alert("Perfil salvo");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){function e(){return(e=Object(k.a)(Object(y.a)().mark((function e(){var t,a,r,n,c,i,o,s,l,j,b;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.getSessionData()){e.next=3;break}return e.abrupt("return");case 3:if(a=t.email,r=btoa(a),n=Object(P.d)(ne,"users",r),e.prev=6,!(c=JSON.parse(localStorage.getItem("userData")))){e.next=12;break}T(c),e.next=42;break;case 12:return e.next=14,Object(P.e)(n);case 14:if(!(i=e.sent).exists()){e.next=21;break}o=i.data(),T(o),localStorage.setItem("userData",JSON.stringify(o)),e.next=42;break;case 21:return console.log("No data available"),e.prev=22,s=JSON.parse(u.a.get("profile")),u.a.remove("profile"),l={email:a,name:s.name,profilePictureUrl:s.imageUrl,tags:[]},j=ce(l.email),l.public_id=j,e.next=30,Object(P.i)(n,l);case 30:return console.log(j.toString()),b=Object(P.d)(ne,"public_users",j.toString()),e.next=34,Object(P.i)(b,{id:r});case 34:T(l),localStorage.setItem("userData",JSON.stringify(l)),e.next=42;break;case 38:e.prev=38,e.t0=e.catch(22),console.log(e.t0.message),console.log("No data available, creating new - error");case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(6),console.error("Error fetching data:",e.t1);case 47:case"end":return e.stop()}}),e,null,[[6,44],[22,38]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var B=function(){if(""!==p.trim()&&!o.includes(p)){var e=p.toLowerCase();f(e);var t=[].concat(Object(Z.a)(o),[e]);s(t);var r=Object(X.a)(Object(X.a)({},a),{},{tags:t});n(r),f("")}};return Object(h.jsx)("div",{children:a?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(h.jsx)(K,{}),Object(h.jsx)("h2",{children:"Profile Information"}),Object(h.jsx)($.a,{alt:"Profile picture",src:a.profilePictureUrl,sx:{width:100,height:100,margin:"auto"}}),Object(h.jsx)(ee.a,{variant:"h6",component:"h3",children:a.name}),Object(h.jsx)(ee.a,{variant:"body1",children:a.email}),Object(h.jsxs)(ee.a,{variant:"body1",children:["Public Id:",Object(h.jsx)("a",{target:"_blank",rel:"noreferrer",href:b.homepage+"/"+b.publicProfilePage.split(":")[0]+a.public_id,children:a.public_id})]}),Object(h.jsx)(ee.a,{variant:"body1",children:"Tags:"}),Object(h.jsx)(v.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:o.map((function(e,t){return Object(h.jsx)(te.a,{label:e,onDelete:function(){return function(e){var t=o.filter((function(t){return t!==e}));s(t),ie.push(e);var r=Object(X.a)(Object(X.a)({},a),{},{tags:t});n(r)}(e)},sx:{margin:"5px"}},t)}))}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"80%"},children:[Object(h.jsx)(E.a,{label:"Add a tag",value:p,onChange:function(e){f(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&B()},sx:{width:"100%",margin:"10px -8px 0 0"}}),Object(h.jsx)(U.a,{onClick:B,style:{borderRadius:"12px",height:"60px",margin:"8px 0 0 8px",backgroundColor:"#f0f2f5"},children:"ADD"})]}),Object(h.jsx)(E.a,{label:"Add Public Contact",placeholder:"Enter contact email, number, social media",value:O,onChange:function(e){m(e.target.value)},sx:{width:"80%",margin:"10px 0"}}),Object(h.jsx)(E.a,{label:"Add portfolio URL",placeholder:"Enter portfolio URL",value:D,onChange:function(e){_(e.target.value)},sx:{width:"80%",margin:"10px 0"}}),Object(h.jsx)(E.a,{label:"Add curriculo URL",placeholder:"Enter curriculo URL",value:L,onChange:function(e){R(e.target.value)},sx:{width:"80%",margin:"10px 0"}}),Object(h.jsx)(U.a,{onClick:J,style:{borderRadius:"12px",height:"60px",width:"80%",marginTop:"8px",backgroundColor:"#f0f2f5"},children:"SAVE"}),Object(h.jsx)(ae.a,{variant:"fullWidth",sx:{margin:"16px 0",padding:"10px",width:"70%",mx:"auto"}}),Object(h.jsx)(U.a,{onClick:A,style:{color:"red",borderRadius:"12px",height:"60px",width:"80%",marginTop:"8px",backgroundColor:"#f0f2f5"},children:"Delete Profile"})]})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(re.a,{}),Object(h.jsx)("p",{children:"Loading profile data..."})]})})},se=a(225),le=["email"],ue=Object(P.g)(D),je=function(){var e=Object(i.o)().profile_id,t=Object(r.useState)(null),a=Object(C.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){function t(){return(t=Object(k.a)(Object(y.a)().mark((function t(){var a,r,n,i,o,s,l;return Object(y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(P.d)(ue,"public_users",e),t.prev=1,t.next=4,Object(P.e)(a);case 4:if(!(r=t.sent).exists()){t.next=14;break}return n=r.data(),i=Object(P.d)(ue,"users",n.id),t.next=10,Object(P.e)(i);case 10:(o=t.sent).exists()?(s=o.data(),s.email,l=Object(se.a)(s,le),c(l)):console.log("No data available for user"),t.next=15;break;case 14:console.log("No data available for public user");case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),console.error("Error fetching data:",t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,17]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(h.jsx)("div",{children:n?Object(h.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(h.jsx)("h2",{children:"Profile Information"}),Object(h.jsx)(ee.a,{variant:"h6",component:"h3",children:n.name}),Object(h.jsxs)(v.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:"10px",marginTop:"10px"},children:[n.publicContact?Object(h.jsx)(T.a,{href:"".concat(b.fixURL(n.publicContact)),target:"_blank",rel:"noreferrer",children:n.publicContact}):null,n.portfolio?Object(h.jsx)(T.a,{href:"".concat(b.fixURL(n.portfolio)),target:"_blank",rel:"noreferrer",children:"Portfolio"}):null,n.curriculo?Object(h.jsx)(T.a,{href:"".concat(b.fixURL(n.curriculo)),target:"_blank",rel:"noreferrer",children:"Curriculo"}):null]}),Object(h.jsx)($.a,{alt:"Profile picture",src:n.profilePictureUrl,sx:{width:100,height:100,margin:"auto"}}),Object(h.jsx)(ee.a,{variant:"body1",children:"Tags:"}),Object(h.jsx)(v.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:n.tags.map((function(e,t){return Object(h.jsx)(te.a,{label:e,sx:{margin:"5px"}},t)}))})]}):Object(h.jsx)("p",{children:"Loading profile data..."})})},be=Object(P.g)(D),pe=function(){var e=Object(i.o)().tag,t=Object(r.useState)([]),a=Object(C.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(k.a)(Object(y.a)().mark((function t(){var a,r;return Object(y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(P.d)(be,"tags",e),t.next=4,Object(P.e)(a);case 4:r=t.sent,console.log(r.data()),c(Object.keys(r.data())),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error fetching tag data:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("h2",{children:["Users with Tag: ",e]}),Object(h.jsx)("div",{children:n.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(b.homepage,"/").concat(b.publicProfilePage.split(":")[0]).concat(e),children:e})},e)}))})]})},fe=Object(P.g)(D),de=function(){var e=Object(i.o)().tag,t=Object(r.useState)([]),a=Object(C.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(k.a)(Object(y.a)().mark((function e(){var t,a,r;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(P.a)(fe,"tags"),e.next=4,Object(P.f)(t);case 4:a=e.sent,r=[],a.forEach((function(e){r.push(e.id)})),c(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching tag data:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[e]),Object(h.jsx)("div",{children:Object(h.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(h.jsx)("h2",{children:"All Tags:"}),Object(h.jsx)(v.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:n.map((function(e){return Object(h.jsx)(T.a,{style:{marginRight:"10px"},href:"".concat(b.homepage,"/").concat(b.tagPage.split(":")[0]).concat(e),rel:"noreferrer",target:"_blank",children:e},e)}))})]})})};""===window.location.hash&&(window.location.hash="/");var xe=Object(c.a)([{path:"/",element:Object(h.jsx)(V,{})},{path:b.loginPage,element:Object(h.jsx)(V,{})},{path:b.profilePage,element:Object(h.jsx)(oe,{})},{path:b.publicProfilePage,element:Object(h.jsx)(je,{})},{path:b.tagPage,element:Object(h.jsx)(pe,{})},{path:b.allTagPage,element:Object(h.jsx)(de,{})},{path:b.multiTagPage,element:Object(h.jsx)(z,{})}]);n.createRoot(document.getElementById("root")).render(Object(h.jsx)(i.b,{router:xe}))}},[[357,1,2]]]);
//# sourceMappingURL=main.3108b72b.chunk.js.map